webpackJsonp([8,11],{427:function(t,a,e){e(443);var i=e(1)(e(441),e(444),"data-v-543eb68d",null);t.exports=i.exports},431:function(t,a,e){e(538);var i=e(1)(e(471),e(549),"data-v-94babcba",null);t.exports=i.exports},441:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"PaginationVue",data:function(){return{curPage:this.options.page,curLimit:this.options.limit,curPoint:this.options.point,curCount:this.options.count,curEnd:this.options.end,curMax:this.options.max,curIndex:this.options.index,startIndex:1,paginationArray:[]}},props:["options","pageClick"],methods:{getCurrentPagination:function(){var t=Math.ceil((this.curMax-1)/2),a=Math.ceil(this.curCount/this.curLimit);this.startIndex=1,this.curIndex>t&&(this.startIndex=Math.max(Math.min(this.curIndex-t,a-this.curMax+1),1));var e=Math.max(Math.min(this.curMax,a-this.startIndex+1),1);this.paginationArray.length=0;for(var i=this.startIndex;i<this.startIndex+e;i+=1)this.paginationArray.push(i)}},watch:{options:{handler:function(t){this.curPage=t.page,this.curLimit=t.limit,this.curPoint=t.point,this.curCount=t.count,this.curEnd=t.end,this.curMax=t.max,this.curIndex=t.index,this.getCurrentPagination()},deep:!0}},mounted:function(){this.getCurrentPagination()}}},442:function(t,a,e){a=t.exports=e(425)(!0),a.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"pagination.vue",sourceRoot:""}])},443:function(t,a,e){var i=e(442);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(426)("c418f292",i,!0)},444:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"pagination",attrs:{role:"navigation","aria-label":"pagination"}},[e("ul",{staticClass:"pagination-list"},t._l(t.paginationArray,function(a){return e("li",[e("a",{staticClass:"pagination-link",on:{click:function(e){t.pageClick(a)}}},[t._v(t._s(a))])])}))])},staticRenderFns:[]}},445:function(t,a,e){"use strict";function i(t){this.filter=t||{}}a.a=i;var c=e(4),n=e.n(c);i.prototype.set=function(t){this.filter=n.a.extend(this.filter,t)},i.prototype.get=function(){return this.filter},i.prototype.setFilter=function(t,a){this.filter[t]=a},i.prototype.getFilter=function(t){return this.filter[t]||null}},446:function(t,a,e){"use strict";function i(t){this.options={page:0,limit:20,point:null,count:0,end:!1,max:5,index:1},this.set(t)}a.a=i,i.prototype.reset=function(){this.set(this.options)},i.prototype.set=function(t){t=t||{},this.page=parseInt(void 0!==t.page?t.page:void 0!==this.page?this.page:this.options.page),this.limit=parseInt(void 0!==t.limit?t.limit:void 0!==this.limit?this.limit:this.options.limit),this.point=void 0===t.point||null===t.point?this.options.point:parseInt(t.point),this.index=Math.max(Math.ceil(this.page/this.limit),1),this.count=parseInt(void 0!==t.count&&null!==t.count?t.count:void 0!==this.count?this.count:this.options.count),this.end=void 0!==t.end?t.end:void 0!==this.end?this.end:this.options.end,this.max=parseInt(void 0===t.max||null===t.max?this.max||this.options.max:t.max)},i.prototype.get=function(){return{index:this.index,limit:this.limit,point:this.point,page:this.page,count:this.count,end:!!this.end}},i.prototype.setIndex=function(t){this.index=t,this.page=(t-1)*this.limit},i.prototype.getIndex=function(){return this.index},i.prototype.setPage=function(t){this.page=parseInt(t)},i.prototype.getPage=function(){return this.page},i.prototype.setLimit=function(t){this.limit=parseInt(t)},i.prototype.getLimit=function(){return this.limit},i.prototype.setPoint=function(t){this.point=void 0===t||null===t?null:parseInt(t)},i.prototype.getPoint=function(){return this.point||null},i.prototype.setCount=function(t){this.count=parseInt(t)},i.prototype.getCount=function(){return this.count},i.prototype.setEnd=function(t){this.end=t},i.prototype.getEnd=function(){return this.end},i.prototype.isEnd=function(){return this.getEnd()}},471:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(446),c=e(445),n=e(427),r=e.n(n),o=e(9),s=e(13),d=e.n(s),l=e(10),p=e(0),u=e.n(p),v=e(24),b=e.n(v),_=e(4),m=e.n(_),h=e(5),A=e.n(h),g=e(2),C=e(191),f=e.n(C),y=g.default.extend(A.a),x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"",message:"",type:"",direction:"",duration:4500,container:".notifications"};return new y({el:document.createElement("div"),propsData:t})};a.default={name:"contractReceiptIndex",components:{PaginationVue:r.a,Notification:A.a,Datepicker:d.a,ImageEnlargedView:b.a},mixins:[o.a],data:function(){return{moment:u.a,priceSummaryByAccount:0,page:new i.a,filter:new c.a,contractReceiptList:[],receiptAccount:[],receiptList:[],userPermit:"",searchOptions:{status:""},enlargedImage:{image:{},imageGroup:[],index:0}}},methods:{loadContractReceipt:function(){var t=this;this.checkPermission(),this.$http.get("/api/contract/receipt?status="+this.searchOptions.status).then(function(a){if(200!==a.data.code)return t.contractReceiptList=[],void x({message:a.data.data.msg,type:"danger",duration:1500});if(t.contractReceiptList=a.data.data.contract,t.receiptAccount=a.data.data.receiptAccount||[],t.receiptList=[],t.receiptAccount.length>0){var e=function(t,a){return t+a};t.priceSummaryByAccount=m.a.reduce(m.a.pluck(t.receiptAccount,"price"),e,0)}t.contractReceiptList.forEach(function(a){var e=function(t,a){return t+a};a.receipt.forEach(function(e){e.contractName=a.name,t.receiptList.push(e)}),a.priceSummary={laborPrice:m.a.reduce(m.a.pluck(a.price,"laborPrice"),e,0),resourcePrice:m.a.reduce(m.a.pluck(a.price,"resourcePrice"),e,0),etcPrice:m.a.reduce(m.a.pluck(a.price,"etcPrice"),e,0),totalPrice:m.a.reduce(m.a.pluck(a.price,"totalPrice"),e,0)},a.receipt.forEach(function(t){switch(t.type){case 0:t.typeToString="인건비";break;case 1:t.typeToString="자재비";break;case 2:t.typeToString="기타잡비"}switch(t.status){case-1:t.statusName="삭제";break;case 0:t.statusName="반려";break;case 1:t.statusName="대기";break;case 2:t.statusName="승인";break;case 3:t.statusName="입금완료"}})})})},changeReceiptStatus:function(t,a,e){var i=this;this.checkPermission();var c=void 0;(0!==e||(c=window.prompt("반려사유를 입력해 주십시오.")))&&this.$http.put("/api/contract/"+t+"/receipt/"+a.pk,{status:e,rejectReason:c}).then(function(t){if(200!==t.data.code)return void x({message:"결재 진행 중 오류가 발생하였습니다.",type:"danger",duration:1500});x({message:"결재가 정상적으로 처리되었습니다.",type:"success",duration:1500}),i.loadContractReceipt()})},moveToRegisterReceipt:function(){l.a.push({path:"/private/receipt/register"})},checkPermission:function(){this.userPermit=this.$auth.user().user_permit},openImageEnlargedView:function(t){var a=[];m.a.forEach(t.attachment,function(t){a.push({si_url:t.url})}),a.length>0&&(this.enlargedImage.image=a[0],this.enlargedImage.index=0,this.enlargedImage.imageGroup=a,this.$modal.show("imageEnlargedView"))},excelExport:function(t,a){var e=document.getElementById("receiptTable"),i=f.a.utils.book_new(),c=f.a.utils.table_to_sheet(e);return c["!cols"]=[{wch:10},{wch:20},{wch:10},{wch:10},{wch:25},{wch:15},{wch:10},{wch:10},{wch:20},{wch:10},{wch:10},{wch:10},{wch:10},{wch:10}],f.a.utils.book_append_sheet(i,c,"결재목록"),f.a.writeFile(i,a||"결재내역-"+this.moment().format("YYYY-MM-DD HH:mm:ss")+".xlsx")},getAttachmentUrl:function(t){var a=t.attachment,e=[];return m.a.forEach(a,function(t){e.push(t.url)}),e}},mounted:function(){this.loadContractReceipt()}}},530:function(t,a,e){a=t.exports=e(425)(!0),a.push([t.i,'article[data-v-94babcba]{overflow:auto}#addBtn[data-v-94babcba]{margin:1rem 0}.search input[data-v-94babcba],.search select[data-v-94babcba]{width:auto}.search-btn[data-v-94babcba]{line-height:60px}.search-btn a[data-v-94babcba]{vertical-align:bottom}.excel-btn[data-v-94babcba]{margin-right:1rem}.no-data[data-v-94babcba]{text-align:center}.searchbox div.control[data-v-94babcba]{margin-right:3rem}.receiptAccount .subtitle[data-v-94babcba]{font-weight:700}.receiptAccount table thead[data-v-94babcba],.receiptAccount table thead tr[data-v-94babcba]:hover{background-color:#dfdfdf}.receiptAccount table thead tr th[data-v-94babcba]{color:#000;border:1px solid #ccc}.receiptAccount table tbody .price-summary-by-account td[data-v-94babcba]{text-align:right}.proceeding-contract-list .title-view[data-v-94babcba]{margin-bottom:1rem}.proceeding-contract-list .title-view .subtitle[data-v-94babcba]{float:left;font-weight:700;margin:.5rem 0}.proceeding-contract-list .title-view .summary-info[data-v-94babcba]{float:right}.proceeding-contract-list .title-view .summary-info span[data-v-94babcba]{margin:0 .5rem}.proceeding-contract-list .contract-column-summary[data-v-94babcba]{background-color:#dfdfdf;border:1px solid #ccc;color:#000}.proceeding-contract-list .contract-row-summary[data-v-94babcba]{background-color:#dfdfdf;color:#000}.proceeding-contract-list .contract-row-summary td[data-v-94babcba]{border:1px solid #ccc}.proceeding-contract-list .contract-receipt-list[data-v-94babcba]{padding:.5rem 0}.proceeding-contract-list .contract-receipt-list thead[data-v-94babcba],.proceeding-contract-list .contract-receipt-list thead tr[data-v-94babcba]:hover{background-color:#dfdfdf}.proceeding-contract-list .contract-receipt-list thead tr th[data-v-94babcba]{color:#000;border:1px solid #ccc}.proceeding-contract-list .contract-receipt-list tbody[data-v-94babcba]{font-size:.9rem}.proceeding-contract-list .contract-receipt-list tbody th[data-v-94babcba]{background:#dfdfdf;color:#000;border:1px solid #ccc}.proceeding-contract-list .contract-receipt-list tbody td[data-v-94babcba]{border:1px solid #ccc}.proceeding-contract-list .contract-receipt-list tbody td button.is-primary[data-v-94babcba]{background:#4285f4}.proceeding-contract-list .contract-receipt-list tbody td.receipt-button-wrapper[data-v-94babcba]{text-align:center;vertical-align:middle}@media screen and (max-width:768px){.excel-btn[data-v-94babcba]{margin:.5rem 0}.contract-receipt-wrapper[data-v-94babcba]{background:transparent;box-shadow:none;padding:0}.contract-receipt-wrapper>div[data-v-94babcba]{overflow-x:auto}.contract-receipt-wrapper>p[data-v-94babcba]{float:none;padding:.5rem}.contract-receipt-wrapper .proceeding-contract-list[data-v-94babcba]{margin:.5rem 0}.contract-receipt-wrapper .proceeding-contract-list .title-view .subtitle[data-v-94babcba]{float:inherit}.contract-receipt-wrapper .proceeding-contract-list .title-view .summary-info[data-v-94babcba]{float:inherit;display:block}.contract-receipt-wrapper .proceeding-contract-list .title-view .summary-info span[data-v-94babcba]{display:block;margin:.25rem 0}.contract-receipt-wrapper .proceeding-contract-list .contract-receipt-list tbody[data-v-94babcba]:before{content:"";display:block;height:2rem}}',"",{version:3,sources:["/Users/ohw/WebstormProjects/admin.gridazip.com/frontend/client/views/contractReceipt/index.vue"],names:[],mappings:"AACA,yBAAyB,aAAa,CACrC,AACD,yBAAyB,aAAa,CACrC,AAGD,+DAAgC,UAAU,CACzC,AACD,6BAA6B,gBAAgB,CAC5C,AACD,+BAA+B,qBAAqB,CACnD,AACD,4BAA4B,iBAAiB,CAC5C,AACD,0BAA0B,iBAAiB,CAC1C,AACD,wCAAwC,iBAAiB,CACxD,AACD,2CAA2C,eAAgB,CAC1D,AAGD,mGAAsD,wBAAwB,CAC7E,AACD,mDAAmD,WAAY,qBAAwB,CACtF,AACD,0EAA0E,gBAAgB,CACzF,AACD,uDAAuD,kBAAkB,CACxE,AACD,iEAAiE,WAAW,gBAAiB,cAAe,CAC3G,AACD,qEAAqE,WAAW,CAC/E,AACD,0EAA0E,cAAe,CACxF,AACD,oEAAoE,yBAAyB,sBAAyB,UAAW,CAChI,AACD,iEAAiE,yBAAyB,UAAW,CACpG,AACD,oEAAoE,qBAAwB,CAC3F,AACD,kEAAkE,eAAgB,CACjF,AAGD,yJAAiF,wBAAwB,CACxG,AACD,8EAA8E,WAAY,qBAAwB,CACjH,AACD,wEAAwE,eAAgB,CACvF,AACD,2EAA2E,mBAAmB,WAAY,qBAAwB,CACjI,AACD,2EAA2E,qBAAwB,CAClG,AACD,6FAA6F,kBAAkB,CAC9G,AACD,kGAAkG,kBAAkB,qBAAqB,CACxI,AACD,oCACA,4BAA4B,cAAe,CAC1C,AACD,2CAA2C,uBAAuB,gBAAgB,SAAS,CAC1F,AACD,+CAA+C,eAAe,CAC7D,AACD,6CAA6C,WAAW,aAAc,CACrE,AACD,qEAAqE,cAAe,CACnF,AACD,2FAA2F,aAAa,CACvG,AACD,+FAA+F,cAAc,aAAa,CACzH,AACD,oGAAoG,cAAc,eAAgB,CACjI,AACD,yGAAyG,WAAW,cAAc,WAAW,CAC5I,CACA",file:"index.vue",sourcesContent:["\narticle[data-v-94babcba]{overflow:auto\n}\n#addBtn[data-v-94babcba]{margin:1rem 0\n}\n.search input[data-v-94babcba]{width:auto\n}\n.search select[data-v-94babcba]{width:auto\n}\n.search-btn[data-v-94babcba]{line-height:60px\n}\n.search-btn a[data-v-94babcba]{vertical-align:bottom\n}\n.excel-btn[data-v-94babcba]{margin-right:1rem\n}\n.no-data[data-v-94babcba]{text-align:center\n}\n.searchbox div.control[data-v-94babcba]{margin-right:3rem\n}\n.receiptAccount .subtitle[data-v-94babcba]{font-weight:bold\n}\n.receiptAccount table thead[data-v-94babcba]{background-color:#dfdfdf\n}\n.receiptAccount table thead tr[data-v-94babcba]:hover{background-color:#dfdfdf\n}\n.receiptAccount table thead tr th[data-v-94babcba]{color:black;border:1px solid #cccccc\n}\n.receiptAccount table tbody .price-summary-by-account td[data-v-94babcba]{text-align:right\n}\n.proceeding-contract-list .title-view[data-v-94babcba]{margin-bottom:1rem\n}\n.proceeding-contract-list .title-view .subtitle[data-v-94babcba]{float:left;font-weight:bold;margin:0.5rem 0\n}\n.proceeding-contract-list .title-view .summary-info[data-v-94babcba]{float:right\n}\n.proceeding-contract-list .title-view .summary-info span[data-v-94babcba]{margin:0 0.5rem\n}\n.proceeding-contract-list .contract-column-summary[data-v-94babcba]{background-color:#dfdfdf;border:1px solid #cccccc;color:black\n}\n.proceeding-contract-list .contract-row-summary[data-v-94babcba]{background-color:#dfdfdf;color:black\n}\n.proceeding-contract-list .contract-row-summary td[data-v-94babcba]{border:1px solid #cccccc\n}\n.proceeding-contract-list .contract-receipt-list[data-v-94babcba]{padding:0.5rem 0\n}\n.proceeding-contract-list .contract-receipt-list thead[data-v-94babcba]{background-color:#dfdfdf\n}\n.proceeding-contract-list .contract-receipt-list thead tr[data-v-94babcba]:hover{background-color:#dfdfdf\n}\n.proceeding-contract-list .contract-receipt-list thead tr th[data-v-94babcba]{color:black;border:1px solid #cccccc\n}\n.proceeding-contract-list .contract-receipt-list tbody[data-v-94babcba]{font-size:0.9rem\n}\n.proceeding-contract-list .contract-receipt-list tbody th[data-v-94babcba]{background:#dfdfdf;color:black;border:1px solid #cccccc\n}\n.proceeding-contract-list .contract-receipt-list tbody td[data-v-94babcba]{border:1px solid #cccccc\n}\n.proceeding-contract-list .contract-receipt-list tbody td button.is-primary[data-v-94babcba]{background:#4285F4\n}\n.proceeding-contract-list .contract-receipt-list tbody td.receipt-button-wrapper[data-v-94babcba]{text-align:center;vertical-align:middle\n}\n@media screen and (max-width: 768px){\n.excel-btn[data-v-94babcba]{margin:0.5rem 0\n}\n.contract-receipt-wrapper[data-v-94babcba]{background:transparent;box-shadow:none;padding:0\n}\n.contract-receipt-wrapper>div[data-v-94babcba]{overflow-x:auto\n}\n.contract-receipt-wrapper>p[data-v-94babcba]{float:none;padding:0.5rem\n}\n.contract-receipt-wrapper .proceeding-contract-list[data-v-94babcba]{margin:0.5rem 0\n}\n.contract-receipt-wrapper .proceeding-contract-list .title-view .subtitle[data-v-94babcba]{float:inherit\n}\n.contract-receipt-wrapper .proceeding-contract-list .title-view .summary-info[data-v-94babcba]{float:inherit;display:block\n}\n.contract-receipt-wrapper .proceeding-contract-list .title-view .summary-info span[data-v-94babcba]{display:block;margin:0.25rem 0\n}\n.contract-receipt-wrapper .proceeding-contract-list .contract-receipt-list tbody[data-v-94babcba]:before{content:'';display:block;height:2rem\n}\n}\n"],sourceRoot:""}])},538:function(t,a,e){var i=e(530);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(426)("2e6db022",i,!0)},549:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"search box"},[e("div",{staticClass:"block"},[e("div",{staticClass:"is-clearfix"},[e("div",{staticClass:"is-pulled-left is-horizontal searchbox"},[e("div",{staticClass:"control is-inline-block"},[e("label",{staticClass:"label"},[t._v("진행상태")]),t._v(" "),e("div",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.searchOptions.status,expression:"searchOptions.status"}],on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.searchOptions,"status",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",selected:"selected"}},[t._v("선택")]),t._v(" "),e("option",{attrs:{value:"0"}},[t._v("반려")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("기안")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("승인")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("입금완료")])])])])]),t._v(" "),e("div",{staticClass:"is-pulled-right search-btn"},[e("a",{staticClass:"button is-info",on:{click:t.loadContractReceipt}},[t._v("검색")])])])])]),t._v(" "),e("div",{staticClass:"tile is-ancestor"},[e("div",{staticClass:"tile is-parent"},[e("article",{staticClass:"tile is-child box contract-receipt-wrapper"},[e("div",{staticClass:"is-clearfix"},[e("p",{staticClass:"subtitle is-3 is-pulled-left"},[t._v("결재 요청내역")]),t._v(" "),e("a",{staticClass:"button is-primary is-pulled-right is-medium",on:{click:t.moveToRegisterReceipt}},[t._v("등록")]),t._v(" "),e("button",{staticClass:"button is-info is-pulled-right is-medium excel-btn",on:{click:function(a){t.excelExport("xlsx")}}},[t._v("엑셀 다운로드")])]),t._v(" "),"C"===t.userPermit?e("div",{staticClass:"receiptAccount"},[e("h1",{staticClass:"subtitle"},[t._v("입금 요청 내역 집계")]),t._v(" "),e("table",{staticClass:"table is-bordered"},[t._m(0),t._v(" "),e("tbody",[t._l(t.receiptAccount,function(a){return e("tr",[e("td",[t._v(t._s(a.accountBank))]),t._v(" "),e("td",[t._v(t._s(a.accountNumber))]),t._v(" "),e("td",[t._v(t._s(a.accountHolder))]),t._v(" "),e("td",[t._v(t._s(t.addCommas(a.price)))])])}),t._v(" "),t.receiptAccount.length>0?e("tr",{staticClass:"price-summary-by-account"},[e("td",{attrs:{colspan:"4"}},[t._v("합게: "+t._s(t.addCommas(t.priceSummaryByAccount)))])]):t._e(),t._v(" "),0===t.receiptAccount.length?e("tr",[e("td",{staticClass:"no-data",attrs:{colspan:"4"}},[t._v("입금할 내역이 없습니다.")])]):t._e()],2)])]):t._e(),t._v(" "),e("div",[e("ul",{staticClass:"proceeding-contract-list"},t._l(t.contractReceiptList,function(a){return e("li",{staticClass:"contractItem box"},[e("div",{staticClass:"title-view is-clearfix"},[e("h1",{staticClass:"subtitle"},[t._v(t._s(a.name)+" 현장 비용현황")]),t._v(" "),e("div",{staticClass:"summary-info is-flex"},[e("span",[t._v("당 현장 견적금액: "+t._s(t.addCommas(a.contractTotalCosts))+"원")]),t._v(" "),e("span",[t._v("현 집행금액: "+t._s(t.addCommas(a.receiptTotalCosts))+"원")]),t._v(" "),e("span",[t._v("집행률: "+t._s((a.receiptTotalCosts/a.contractTotalCosts*100).toFixed(2))+"%")])])]),t._v(" "),e("table",{staticClass:"table is-bordered contract-summary"},[t._m(1,!0),t._v(" "),e("tbody",[t._l(a.price,function(a){return e("tr",[e("td",[t._v(t._s(t.addCommas(a.ctName)))]),t._v(" "),e("td",{staticClass:"is-hidden-mobile"},[t._v(t._s(t.addCommas(a.laborPrice)))]),t._v(" "),e("td",{staticClass:"is-hidden-mobile"},[t._v(t._s(t.addCommas(a.resourcePrice)))]),t._v(" "),e("td",{staticClass:"is-hidden-mobile"},[t._v(t._s(t.addCommas(a.etcPrice)))]),t._v(" "),e("td",{staticClass:"contract-column-summary"},[t._v(t._s(t.addCommas(a.totalPrice)))])])}),t._v(" "),e("tr",{staticClass:"contract-row-summary"},[e("td",[t._v("계")]),t._v(" "),e("td",{staticClass:"is-hidden-mobile"},[t._v(t._s(t.addCommas(a.priceSummary.laborPrice)))]),t._v(" "),e("td",{staticClass:"is-hidden-mobile"},[t._v(t._s(t.addCommas(a.priceSummary.resourcePrice)))]),t._v(" "),e("td",{staticClass:"is-hidden-mobile"},[t._v(t._s(t.addCommas(a.priceSummary.etcPrice)))]),t._v(" "),e("td",[t._v(t._s(t.addCommas(a.priceSummary.totalPrice)))])])],2)]),t._v(" "),e("div",{staticClass:"title-view"},[e("h1",{staticClass:"subtitle"},[t._v(t._s(a.name)+" 현장 입금 요청내역")])]),t._v(" "),e("table",{staticClass:"table is-bordered contract-receipt-list is-hidden-touch"},[t._m(2,!0),t._v(" "),t._l(a.receipt,function(i){return-1!==i.status?e("tbody",[e("tr",[e("td",[t._v(t._s(i.drafter))]),t._v(" "),e("td",{attrs:{t:"d"}},[t._v(t._s(t.moment(i.date,"YYYY-MM-DDTHH:mm:ss.SSSZ").format("YY-MM-DD")))]),t._v(" "),e("td",[t._v(t._s(i.ctName))]),t._v(" "),e("td",[t._v(t._s(i.typeToString))]),t._v(" "),e("td",[t._v(t._s(i.contents))]),t._v(" "),e("td",[t._v(t._s(t.addCommas(i.price)))]),t._v(" "),e("td",[t._v(t._s(0===i.isVatIncluded?"미포함":"포함"))]),t._v(" "),e("td",{attrs:{t:"s"}},[t._v("\n                    "+t._s(i.accountNumber)),e("br"),t._v("\n                    "+t._s(i.accountBank)),e("br"),t._v("\n                    "+t._s(i.accountHolder)+"\n                  ")]),t._v(" "),e("td",[i.attachment.length>0?e("a",{attrs:{href:"#"},on:{click:function(a){t.openImageEnlargedView(i)}}},[t._v("링크")]):t._e()]),t._v(" "),e("td",[t._v(t._s(i.statusName))]),t._v(" "),e("td",[t._v(t._s(i.memo))]),t._v(" "),e("td",{staticClass:"receipt-button-wrapper"},["C"===t.userPermit||"B"===t.userPermit&&2!==i.status?e("button",{staticClass:"button is-danger is-medium",on:{click:function(e){t.changeReceiptStatus(a.pk,i,0)}}},[t._v("반려")]):t._e(),t._v(" "),0===i.status?e("button",{staticClass:"button is-danger is-medium",on:{click:function(e){t.changeReceiptStatus(a.pk,i,-1)}}},[t._v("삭제")]):t._e(),t._v(" "),"B"===t.userPermit&&2!==i.status?e("button",{staticClass:"button is-primary is-medium",on:{click:function(e){t.changeReceiptStatus(a.pk,i,2)}}},[t._v("승인")]):t._e(),t._v(" "),"C"===t.userPermit?e("button",{staticClass:"button is-primary is-medium",on:{click:function(e){t.changeReceiptStatus(a.pk,i,3)}}},[t._v("입금완료")]):t._e()])])]):t._e()})],2),t._v(" "),0!==t.contractReceiptList.length?e("table",{staticClass:"table is-bordered contract-receipt-list is-hidden-desktop"},t._l(a.receipt,function(i){return-1!==i.status?e("tbody",[e("tr",[e("th",[t._v("날짜")]),t._v(" "),e("td",[t._v(t._s(t.moment(i.date,"YYYY-MM-DDTHH:mm:ss.SSSZ").format("YYYY-MM-DD")))])]),t._v(" "),e("tr",[e("th",[t._v("공사")]),t._v(" "),e("td",[t._v(t._s(i.ctName))])]),t._v(" "),e("tr",[e("th",[t._v("구분")]),t._v(" "),e("td",[t._v(t._s(i.typeToString))])]),t._v(" "),e("tr",[e("th",[t._v("내용")]),t._v(" "),e("td",[t._v(t._s(i.contents))])]),t._v(" "),e("tr",[e("th",[t._v("금액")]),t._v(" "),e("td",[t._v(t._s(t.addCommas(i.price)))])]),t._v(" "),e("tr",[e("th",[t._v("부가세")]),t._v(" "),e("td",[t._v(t._s(0===i.isVatIncluded?"미포함":"포함"))])]),t._v(" "),e("tr",[e("th",[t._v("은행명")]),t._v(" "),e("td",[t._v(t._s(i.accountBank))])]),t._v(" "),e("tr",[e("th",[t._v("예금주")]),t._v(" "),e("td",[t._v(t._s(i.accountHolder))])]),t._v(" "),e("tr",[e("th",[t._v("계좌번호")]),t._v(" "),e("td",[t._v(t._s(i.accountNumber))])]),t._v(" "),e("tr",[e("th",[t._v("첨부서류")]),t._v(" "),e("td",[e("a",{attrs:{href:"#"},on:{click:function(a){t.openImageEnlargedView(i)}}},[t._v("링크")])])]),t._v(" "),e("tr",[e("th",[t._v("진행상태")]),t._v(" "),e("td",[t._v(t._s(i.statusName))])]),t._v(" "),i.rejectReason?t._e():e("tr",[e("th",[t._v("메모")]),t._v(" "),e("td",[t._v(t._s(i.memo))])]),t._v(" "),i.rejectReason?e("tr",[e("th",[t._v("반려사유")]),t._v(" "),e("td",[t._v(t._s(i.rejectReason))])]):t._e(),t._v(" "),e("tr",[e("td",{staticClass:"receipt-button-wrapper",attrs:{colspan:"2"}},["C"===t.userPermit||"B"===t.userPermit&&2!==i.status?e("button",{staticClass:"button is-danger is-medium",on:{click:function(e){t.changeReceiptStatus(a.pk,i,0)}}},[t._v("반려")]):t._e(),t._v(" "),0===i.status?e("button",{staticClass:"button is-danger is-medium",on:{click:function(e){t.changeReceiptStatus(a.pk,i,-1)}}},[t._v("삭제")]):t._e(),t._v(" "),"B"===t.userPermit&&2!==i.status?e("button",{staticClass:"button is-primary is-medium",on:{click:function(e){t.changeReceiptStatus(a.pk,i,2)}}},[t._v("승인")]):t._e(),t._v(" "),"C"===t.userPermit?e("button",{staticClass:"button is-primary is-medium",on:{click:function(e){t.changeReceiptStatus(a.pk,i,3)}}},[t._v("입금완료")]):t._e()])])]):t._e()})):t._e()])})),t._v(" "),e("table",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"table is-bordered contract-receipt",attrs:{id:"receiptTable"}},[t._m(3),t._v(" "),t._l(t.receiptList,function(a){return-1!==a.status?e("tbody",[e("tr",[e("td",{attrs:{t:"d"}},[t._v(t._s(t.moment(a.date,"YYYY-MM-DDTHH:mm:ss.SSSZ").format("YYYY-MM-DD")))]),t._v(" "),e("td",[t._v(t._s(a.contractName))]),t._v(" "),e("td",[t._v(t._s(a.ctName))]),t._v(" "),e("td",[t._v(t._s(1===a.type?"자재비":"인건비"))]),t._v(" "),e("td",[t._v(t._s(a.contents))]),t._v(" "),e("td",[t._v(t._s(t.addCommas(a.price)))]),t._v(" "),e("td",[t._v(t._s(0===a.isVatIncluded?"미포함":"포함"))]),t._v(" "),e("td",[t._v(t._s(a.accountBank))]),t._v(" "),e("td",[t._v(t._s(a.accountHolder))]),t._v(" "),e("td",{attrs:{t:"s"}},[t._v(t._s(a.accountNumber))]),t._v(" "),e("td",[t._v(t._s(a.statusName))]),t._v(" "),e("td",[t._v(t._s(a.memo))]),t._v(" "),e("td",[t._v(t._s(a.rejectReason))])])]):t._e()})],2)])])])]),t._v(" "),e("div"),t._v(" "),e("ImageEnlargedView",{attrs:{image:t.enlargedImage.image,imageGroup:t.enlargedImage.imageGroup,index:t.enlargedImage.index,isReceipt:!0}})],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("은행명")]),t._v(" "),e("th",[t._v("계좌번호")]),t._v(" "),e("th",[t._v("예금주")]),t._v(" "),e("th",[t._v("금액")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("공사")]),t._v(" "),e("th",{staticClass:"is-hidden-mobile"},[t._v("인건비")]),t._v(" "),e("th",{staticClass:"is-hidden-mobile"},[t._v("자재비")]),t._v(" "),e("th",{staticClass:"is-hidden-mobile"},[t._v("기타잡비")]),t._v(" "),e("th",{staticClass:"contract-column-summary"},[t._v("계")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("기안자")]),t._v(" "),e("th",[t._v("비용청구일자")]),t._v(" "),e("th",[t._v("공사")]),t._v(" "),e("th",[t._v("비용구분")]),t._v(" "),e("th",[t._v("비용상세내역")]),t._v(" "),e("th",[t._v("청구금액")]),t._v(" "),e("th",[t._v("부가세")]),t._v(" "),e("th",[t._v("입금정보")]),t._v(" "),e("th",[t._v("첨부서류")]),t._v(" "),e("th",[t._v("결재상태")]),t._v(" "),e("th",[t._v("메모")]),t._v(" "),e("th",[t._v("결재")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("날짜")]),t._v(" "),e("th",[t._v("현장")]),t._v(" "),e("th",[t._v("공사")]),t._v(" "),e("th",[t._v("구분")]),t._v(" "),e("th",[t._v("내용")]),t._v(" "),e("th",[t._v("금액")]),t._v(" "),e("th",[t._v("부가세")]),t._v(" "),e("th",[t._v("은행명")]),t._v(" "),e("th",[t._v("예금주")]),t._v(" "),e("th",[t._v("계좌번호")]),t._v(" "),e("th",[t._v("진행상태")]),t._v(" "),e("th",[t._v("메모")]),t._v(" "),e("th",[t._v("반려사유")])])])}]}}});
//# sourceMappingURL=8.0c7a3726ee5d4d72ce62.js.map